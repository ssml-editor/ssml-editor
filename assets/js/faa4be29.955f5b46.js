(globalThis.webpackChunk_ssml_editor_website=globalThis.webpackChunk_ssml_editor_website||[]).push([[511],{1046(e,n,s){e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:s.p+"assets/ideal-img/node-1.5160372.1063.png 1063w,"+s.p+"assets/ideal-img/node-1.db01e8e.1024.png 1024w,"+s.p+"assets/ideal-img/node-1.8971791.800.png 800w",images:[{path:s.p+"assets/ideal-img/node-1.5160372.1063.png",width:1063,height:1246},{path:s.p+"assets/ideal-img/node-1.db01e8e.1024.png",width:1024,height:1200},{path:s.p+"assets/ideal-img/node-1.8971791.800.png",width:800,height:938}],src:s.p+"assets/ideal-img/node-1.5160372.1063.png",placeholder:void 0,width:1063,height:1246}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAMCAIAAADUCbv3AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAxklEQVR4nHXPSU7EQAwF0Lr/0dghOAALmlZIUoOHmuOP0oAQqPHCsvT+X9gV0ZqVRUS11Lqu8eWyLlsMUZY1uGd/fdpeKVBjsVqNWTffVAGkmNxjenvw1/dQJ/ejdwDqSYkBMLOzw2wec04zw+jIWbc0RHEcTOQMX9MnLgS0pouvIZ7tlNy3wgxtnkeJov7GzD/8mQDQRPO+w4xjvMOVtKT0b7uyaiIARHSPJRc+/26t/ebbzmsYwpgDwN926dh2SdLzQBv2ASYhXcw0qjXJAAAAAElFTkSuQmCC"}},5524(e,n,s){"use strict";s.r(n),s.d(n,{assets:()=>p,contentTitle:()=>h,default:()=>x,frontMatter:()=>a,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"guides/node","title":"Node Data Structure","description":"SSML Editor is an extension of the Slate Vue3 component, developed based on Slate as its core. Please refer to the official documentation to learn about Slate Node design.","source":"@site/versioned_docs/version-1.0.2/guides/node.md","sourceDirName":"guides","slug":"/guides/node","permalink":"/docs/guides/node","draft":false,"unlisted":false,"editUrl":"https://github.com/ssml-editor/ssml-editor/tree/master/website/versioned_docs/version-1.0.2/guides/node.md","tags":[],"version":"1.0.2","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Guides","permalink":"/docs/category/guides"},"next":{"title":"Plugin","permalink":"/docs/guides/plugin"}}');var i=s(6259),r=s(3230),d=s(596),o=s(1046),l=s.n(o),c=s(3446);const a={sidebar_position:1},h="Node Data Structure",p={},u=[{value:"Quick Start",id:"quick-start",level:2},{value:"Text Node",id:"text-node",level:2},{value:"Element Node",id:"element-node",level:2},{value:"Inline Element",id:"inline-element",level:2},{value:"Void Element",id:"void-element",level:2},{value:"Built-in Node Structures in editor-vue Package",id:"built-in-node-structures-in-editor-vue-package",level:2}];function m(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"node-data-structure",children:"Node Data Structure"})}),"\n",(0,i.jsxs)(n.p,{children:["SSML Editor is an extension of the Slate Vue3 component, developed based on Slate as its core. Please refer to the official documentation to learn about ",(0,i.jsx)(n.a,{href:"https://docs.slatejs.org/concepts/02-nodes",children:"Slate Node"})," design."]}),"\n",(0,i.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,i.jsxs)(n.p,{children:["To quickly understand the data structure of various nodes, please visit the ",(0,i.jsx)(n.a,{href:"https://www.ssmleditor.com/example/",children:"online example"})," page. After manipulating the editor content, click the ",(0,i.jsx)(n.strong,{children:"Submit"})," button to view the Nodes structure output in the browser console."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, write a text segment, insert an sound element, or set a polyphonic word - you can see their data structures by checking console print ",(0,i.jsx)(n.code,{children:"editor.children"}),"."]}),"\n",(0,i.jsx)(c.A,{src:l().src.src,children:(0,i.jsx)(d.A,{img:l()})}),"\n",(0,i.jsx)(n.h2,{id:"text-node",children:"Text Node"}),"\n",(0,i.jsxs)(n.p,{children:["Text nodes, such as ",(0,i.jsx)(n.code,{children:"{ text: 'hello' }"}),", must contain the ",(0,i.jsx)(n.code,{children:"text"})," property. Custom properties can be added, for example bold text can be represented as ",(0,i.jsx)(n.code,{children:"{ text: 'hello', bold: true }"}),", with other properties extendable as needed."]}),"\n",(0,i.jsxs)(n.p,{children:["Note: Text nodes are leaf nodes, so they don't have child nodes or a ",(0,i.jsx)(n.code,{children:"children"})," property."]}),"\n",(0,i.jsx)(n.h2,{id:"element-node",children:"Element Node"}),"\n",(0,i.jsxs)(n.p,{children:["Element nodes, such as ",(0,i.jsx)(n.code,{children:"{ type: 'ssml-phoneme', mark: 'yu\xe8', ph: 'yue4', alphabet: 'py', children: [ { text: '\u4e50' } ] }"}),", must contain three required properties: type, mark, and children. Custom properties like ph and alphabet can be added as needed."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"type"})," property indicates the element node's type ",(0,i.jsx)(n.strong,{children:"(ensure uniqueness of this value, avoid using the same value for different node types)"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"mark"})," property stores the identification content displayed in the tooltip area above the corresponding element in the editor."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"children"})," property stores the element node's child nodes, which can be text nodes or element nodes ",(0,i.jsx)(n.strong,{children:"(ensure this property always contains at least one node)"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"inline-element",children:"Inline Element"}),"\n",(0,i.jsx)(n.p,{children:"Elements are displayed as block by default, occupying a full line. However, we often need to change them to inline display."}),"\n",(0,i.jsxs)(n.p,{children:["We can use ",(0,i.jsx)(n.a,{href:"./plugin",children:"plugins"})," to modify ",(0,i.jsx)(n.code,{children:"isInline"})," to convert elements to inline display. See the break element's ",(0,i.jsx)(n.a,{href:"https://github.com/ssml-editor/ssml-editor/blob/master/packages/editor-vue/src/cosy-voice/module/break/plugin.ts",children:"plugin source code"})," for reference."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:'showLineNumbers title="editor-vue\\src\\cosy-voice\\module\\break\\plugin.ts"',children:"...\nnewEditor.isInline = (element: Element) => {\n  const type = NodeUtils.getNodeType(element);\n  if (type === BREAK_TYPE) return true;\n  return isInline(element);\n};\n...\n"})}),"\n",(0,i.jsx)(n.h2,{id:"void-element",children:"Void Element"}),"\n",(0,i.jsxs)(n.p,{children:["Some elements need to be defined as void type (without child nodes), such as ",(0,i.jsx)(n.code,{children:"<break>"})," and ",(0,i.jsx)(n.code,{children:"<soundEvent>"})," ."]}),"\n",(0,i.jsxs)(n.p,{children:["We can use ",(0,i.jsx)(n.a,{href:"./plugin",children:"plugins"})," to modify isVoid to convert elements to void type. See the break element's ",(0,i.jsx)(n.a,{href:"https://github.com/ssml-editor/ssml-editor/blob/master/packages/editor-vue/src/cosy-voice/module/break/plugin.ts",children:"plugin source code"})," for reference."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:'showLineNumbers title="editor-vue\\src\\cosy-voice\\module\\break\\plugin.ts"',children:"...\nnewEditor.isVoid = (element: Element) => {\n    const type = NodeUtils.getNodeType(element);\n    if (type === BREAK_TYPE) return true;\n    return isVoid(element);\n  };\n...\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Note: Although void type elements semantically don't have child nodes, they still need to be defined as element nodes with a ",(0,i.jsx)(n.code,{children:"children"})," property containing a single empty string text node. For example, the break element:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"{\n    type: 'ssml-break',\n    mark: '50ms',\n    time: '50ms',\n    children: [{ text: '' }] // Void elements must have a children property containing exactly one empty string text node, important!!!\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"built-in-node-structures-in-editor-vue-package",children:"Built-in Node Structures in editor-vue Package"}),"\n",(0,i.jsxs)(n.p,{children:["For detailed node data structures, please directly check the ",(0,i.jsx)(n.code,{children:"model"})," definitions in the source code."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/ssml-editor/ssml-editor/blob/master/packages/editor-vue/src/cosy-voice/module/speak/model.ts",children:"Properties"})," - Extended element node properties"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/ssml-editor/ssml-editor/blob/master/packages/editor-vue/src/cosy-voice/module/break/model.ts",children:"Break"})," - Defined ",(0,i.jsx)(n.strong,{children:"inline"})," ",(0,i.jsx)(n.strong,{children:"void"})," extended element node properties"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/ssml-editor/ssml-editor/blob/master/packages/editor-vue/src/cosy-voice/module/sound-event/model.ts",children:"Sound"})," - Defined ",(0,i.jsx)(n.strong,{children:"inline"})," ",(0,i.jsx)(n.strong,{children:"void"})," extended element node properties"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/ssml-editor/ssml-editor/blob/master/packages/editor-vue/src/cosy-voice/module/sub/model.ts",children:"Alias"})," - Defined ",(0,i.jsx)(n.strong,{children:"inline"})," extended element node properties"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/ssml-editor/ssml-editor/blob/master/packages/editor-vue/src/cosy-voice/module/phoneme/model.ts",children:"Polyphonic characters and phonetic transcription"})," - Defined ",(0,i.jsx)(n.strong,{children:"inline"})," extended element node properties"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/ssml-editor/ssml-editor/blob/master/packages/editor-vue/src/cosy-voice/module/say-as/model.ts",children:"Say As"})," - Defined ",(0,i.jsx)(n.strong,{children:"inline"})," extended element node properties"]}),"\n"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},3446(e,n,s){"use strict";s.d(n,{A:()=>d});var t=s(4855),i=s(1299),r=s(6259);function d({children:e,src:n}){const[s,d]=(0,i.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{onClick:()=>{d(!0)},style:{cursor:"pointer"},children:e}),(0,r.jsx)(t.A,{src:n,style:{display:"none"},preview:{src:n,visible:s,onVisibleChange:e=>{d(e)}}})]})}}}]);