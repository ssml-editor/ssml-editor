"use strict";(globalThis.webpackChunk_ssml_editor_website=globalThis.webpackChunk_ssml_editor_website||[]).push([[1109],{2282(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"guides/plugin","title":"Plugin","description":"- Plugins are especially important when working with modules.","source":"@site/versioned_docs/version-1.0.2/guides/plugin.md","sourceDirName":"guides","slug":"/guides/plugin","permalink":"/docs/guides/plugin","draft":false,"unlisted":false,"editUrl":"https://github.com/ssml-editor/ssml-editor/tree/master/website/versioned_docs/version-1.0.2/guides/plugin.md","tags":[],"version":"1.0.2","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Node Data Structure","permalink":"/docs/guides/node"},"next":{"title":"Modules","permalink":"/docs/category/modules"}}');var r=i(6259),o=i(3230);i(7550),i(9494),i(935);const s={sidebar_position:2},l="Plugin",d={},a=[{value:"Plugin Type",id:"plugin-type",level:2},{value:"Define Plugin",id:"define-plugin",level:2},{value:"Use Plugins",id:"use-plugins",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"plugin",children:"Plugin"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Plugins are especially important when working with modules."}),"\n"]})}),"\n",(0,r.jsxs)(n.p,{children:["During the editor's operation, various methods of ",(0,r.jsx)(n.code,{children:"BaseEditor"})," are invoked. Plugins allow developers to conveniently override these ",(0,r.jsx)(n.code,{children:"BaseEditor"})," methods, thereby customizing the editor\u2019s default behaviors and implementing tailored editing workflows."]}),"\n",(0,r.jsx)(n.h2,{id:"plugin-type",children:"Plugin Type"}),"\n",(0,r.jsxs)(n.p,{children:["A plugin is a ",(0,r.jsx)(n.code,{children:"Function"})," that takes an instance inheriting from ",(0,r.jsx)(n.code,{children:"BaseEditor"})," as its argument and returns the same instance. Its definition is as follows:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'showLineNumbers title="vue\\src\\type\\editor-plugin.ts"',children:"import type { BaseEditor } from './base-editor';\n\nexport type EditorPlugin = <T extends BaseEditor>(editor: T) => T;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"define-plugin",children:"Define Plugin"}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"View the full example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'showLineNumbers title="editor-vue\\src\\common\\plugin\\void-element\\void-element-plugin.ts"',children:"import { type BaseEditor, type EditorPlugin } from '@ssml-editor/vue';\nimport { Element, Node } from 'slate-vue3/core';\n\nexport const voidElementPlugin: EditorPlugin = <T extends BaseEditor>(\n  editor: T,\n): T => {\n  const { insertNode } = editor;\n  const newEditor = editor;\n\n  /**\n   * Override the insertNode method to move the cursor after the newly inserted void element.\n   */\n  newEditor.insertNode = (node: Node) => {\n    insertNode(node);\n    if (Element.isElement(node) && newEditor.isVoid(node)) {\n      newEditor.move({ distance: 1 });\n    }\n  };\n\n  return newEditor;\n};\n"})})]}),"\n",(0,r.jsx)(n.h2,{id:"use-plugins",children:"Use Plugins"}),"\n",(0,r.jsxs)(n.p,{children:["Pass plugins via the ",(0,r.jsx)(n.code,{children:"plugins"})," property in the ",(0,r.jsx)(n.a,{href:"https://github.com/ssml-editor/ssml-editor/blob/master/example/src/config.ts",children:"configuration"})," object:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'showLineNumbers title="example\\src\\config.ts"',children:"import {\n  voidElementPlugin,\n  type EditorConfig,\n} from '@ssml-editor/editor-vue';\n\nexport default <EditorConfig>{\n  ...\n  plugins: [voidElementPlugin],\n  ...\n};\n"})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},7550(e,n,i){i.d(n,{A:()=>c});var t=i(4756),r=i(3581),o=i(1299);const s="apiTable_e8hp";var l=i(6259);function d({name:e,children:n},i){const s=function(e){let n=e;for(;(0,o.isValidElement)(n);)[n]=o.Children.toArray(n.props.children);if("string"!=typeof n)throw new Error(`Could not extract APITable row name from JSX tree:\n${JSON.stringify(e,null,2)}`);return n}(n),d=e?`${e}-${s}`:s,a=`#${d}`,c=(0,t.W6)();return(0,r.A)().collectAnchor(d),(0,l.jsx)("tr",{id:d,tabIndex:0,ref:c.location.hash===a?i:void 0,onClick:e=>{const n="TD"===e.target.tagName.toUpperCase(),i=!!window.getSelection()?.toString();n&&!i&&c.push(a)},onKeyDown:e=>{"Enter"===e.key&&c.push(a)},children:n.props.children})}const a=o.forwardRef(d);function c({children:e,name:n}){if("table"!==e.type)throw new Error("Bad usage of APITable component.\nIt is probably that your Markdown table is malformed.\nMake sure to double-check you have the appropriate number of columns for each table row.");const[i,t]=o.Children.toArray(e.props.children),r=(0,o.useRef)(null);(0,o.useEffect)(()=>{r.current?.focus()},[r]);const d=o.Children.map(t.props.children,e=>(0,l.jsx)(a,{name:n,ref:r,children:e}));return(0,l.jsxs)("table",{className:s,children:[i,(0,l.jsx)("tbody",{children:d})]})}},9494(e,n,i){i.d(n,{A:()=>l});var t=i(4757),r=i(7017),o=i(6844),s=i(6259);function l({children:e}){return(0,s.jsx)(o.A,{color:"#ffffff",placement:"bottom",trigger:"click",title:e,styles:{root:{maxWidth:"max-content"}},children:(0,s.jsx)(r.Ay,{type:"text",icon:(0,s.jsx)(t.A,{})})})}},935(e,n,i){i.d(n,{A:()=>r});var t=i(6259);function r({children:e,inline:n=!0}){const i=n?"span":"div";return(0,t.jsx)(i,{style:{whiteSpace:"nowrap"},children:e})}}}]);