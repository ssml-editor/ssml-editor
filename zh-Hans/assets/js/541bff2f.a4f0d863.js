"use strict";(globalThis.webpackChunk_ssml_editor_website=globalThis.webpackChunk_ssml_editor_website||[]).push([[145],{1412(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"guides/plugin","title":"\u63d2\u4ef6","description":"- \u63d2\u4ef6\u5728\u6a21\u7ec4\u7684\u4f7f\u7528\u4e2d\u5c24\u4e3a\u91cd\u8981","source":"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/guides/plugin.md","sourceDirName":"guides","slug":"/guides/plugin","permalink":"/zh-Hans/docs/next/guides/plugin","draft":false,"unlisted":false,"editUrl":"https://github.com/ssml-editor/ssml-editor/tree/master/website/docs/guides/plugin.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\u8282\u70b9\u6570\u636e\u7ed3\u6784","permalink":"/zh-Hans/docs/next/guides/node"},"next":{"title":"Modules","permalink":"/zh-Hans/docs/next/category/modules"}}');var r=t(6259),o=t(3230);t(7550),t(9494),t(935);const s={sidebar_position:2},d="\u63d2\u4ef6",l={},c=[{value:"\u63d2\u4ef6\u7c7b\u578b",id:"\u63d2\u4ef6\u7c7b\u578b",level:2},{value:"\u5b9a\u4e49\u63d2\u4ef6",id:"\u5b9a\u4e49\u63d2\u4ef6",level:2},{value:"\u4f7f\u7528\u63d2\u4ef6",id:"\u4f7f\u7528\u63d2\u4ef6",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u63d2\u4ef6",children:"\u63d2\u4ef6"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u63d2\u4ef6\u5728\u6a21\u7ec4\u7684\u4f7f\u7528\u4e2d\u5c24\u4e3a\u91cd\u8981"}),"\n"]})}),"\n",(0,r.jsxs)(n.p,{children:["\u5728\u7f16\u8f91\u5668\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u7f16\u8f91\u5668\u4f1a\u8c03\u7528 ",(0,r.jsx)(n.code,{children:"BaseEditor"})," \u7684\u5404\u79cd\u65b9\u6cd5\uff0c\u800c\u63d2\u4ef6\u7684\u5f15\u5165\u4fbf\u662f\u65b9\u4fbf\u5f00\u53d1\u8005\u91cd\u5199 ",(0,r.jsx)(n.code,{children:"BaseEditor"})," \u7684\u65b9\u6cd5\u4ece\u800c\u6539\u5199\u7f16\u8f91\u5668\u7684\u9ed8\u8ba4\u52a8\u4f5c\uff0c\u5b9e\u73b0\u5b9a\u5236\u5316\u7f16\u8f91\u5668\u64cd\u4f5c\u8fc7\u7a0b\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u63d2\u4ef6\u7c7b\u578b",children:"\u63d2\u4ef6\u7c7b\u578b"}),"\n",(0,r.jsxs)(n.p,{children:["\u63d2\u4ef6\u7684\u7c7b\u578b\u4e3a ",(0,r.jsx)(n.code,{children:"Function"})," \uff0c\u63a5\u6536\u7ee7\u627f\u81ea ",(0,r.jsx)(n.code,{children:"BaseEditor"})," \u7c7b\u578b\u7684\u53c2\u6570\u5e76\u8fd4\u56de\u6b64\u53c2\u6570\u3002\u5b9a\u4e49\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'showLineNumbers title="vue\\src\\type\\editor-plugin.ts"',children:"import type { BaseEditor } from './base-editor';\n\nexport type EditorPlugin = <T extends BaseEditor>(editor: T) => T;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5b9a\u4e49\u63d2\u4ef6",children:"\u5b9a\u4e49\u63d2\u4ef6"}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"\u67e5\u770b\u5b8c\u6574\u793a\u4f8b"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'showLineNumbers title="editor-vue\\src\\common\\plugin\\void-element\\void-element-plugin.ts"',children:"import { type BaseEditor, type EditorPlugin } from '@ssml-editor/vue';\nimport { Element, Node } from 'slate-vue3/core';\n\nexport const voidElementPlugin: EditorPlugin = <T extends BaseEditor>(\n  editor: T,\n): T => {\n  const { insertNode } = editor;\n  const newEditor = editor;\n\n  /**\n   * \u91cd\u5199 insertNode \u65b9\u6cd5\uff0c\u5728 void \u5143\u7d20\u88ab\u63d2\u5165\u540e\u79fb\u52a8\u5149\u6807\u81f3\u65b0\u63d2\u5165\u7684\u5143\u7d20\u540e\u3002\n   */\n  newEditor.insertNode = (node: Node) => {\n    insertNode(node);\n    if (Element.isElement(node) && newEditor.isVoid(node)) {\n      newEditor.move({ distance: 1 });\n    }\n  };\n\n  return newEditor;\n};\n"})})]}),"\n",(0,r.jsx)(n.h2,{id:"\u4f7f\u7528\u63d2\u4ef6",children:"\u4f7f\u7528\u63d2\u4ef6"}),"\n",(0,r.jsxs)(n.p,{children:["\u901a\u8fc7 ",(0,r.jsx)(n.a,{href:"https://github.com/ssml-editor/ssml-editor/blob/master/example/src/config.ts",children:"\u914d\u7f6e"})," \u5bf9\u8c61\u7684 ",(0,r.jsx)(n.code,{children:"plugins"})," \u5c5e\u6027\u4f20\u5165\u63d2\u4ef6\uff1a"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'showLineNumbers title="example\\src\\config.ts"',children:"import {\n  voidElementPlugin,\n  type EditorConfig,\n} from '@ssml-editor/editor-vue';\n\nexport default <EditorConfig>{\n  ...\n  plugins: [voidElementPlugin],\n  ...\n};\n"})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},7550(e,n,t){t.d(n,{A:()=>a});var i=t(4756),r=t(3581),o=t(1299);const s="apiTable_e8hp";var d=t(6259);function l({name:e,children:n},t){const s=function(e){let n=e;for(;(0,o.isValidElement)(n);)[n]=o.Children.toArray(n.props.children);if("string"!=typeof n)throw new Error(`Could not extract APITable row name from JSX tree:\n${JSON.stringify(e,null,2)}`);return n}(n),l=e?`${e}-${s}`:s,c=`#${l}`,a=(0,i.W6)();return(0,r.A)().collectAnchor(l),(0,d.jsx)("tr",{id:l,tabIndex:0,ref:a.location.hash===c?t:void 0,onClick:e=>{const n="TD"===e.target.tagName.toUpperCase(),t=!!window.getSelection()?.toString();n&&!t&&a.push(c)},onKeyDown:e=>{"Enter"===e.key&&a.push(c)},children:n.props.children})}const c=o.forwardRef(l);function a({children:e,name:n}){if("table"!==e.type)throw new Error("Bad usage of APITable component.\nIt is probably that your Markdown table is malformed.\nMake sure to double-check you have the appropriate number of columns for each table row.");const[t,i]=o.Children.toArray(e.props.children),r=(0,o.useRef)(null);(0,o.useEffect)(()=>{r.current?.focus()},[r]);const l=o.Children.map(i.props.children,e=>(0,d.jsx)(c,{name:n,ref:r,children:e}));return(0,d.jsxs)("table",{className:s,children:[t,(0,d.jsx)("tbody",{children:l})]})}},9494(e,n,t){t.d(n,{A:()=>d});var i=t(4757),r=t(7017),o=t(6844),s=t(6259);function d({children:e}){return(0,s.jsx)(o.A,{color:"#ffffff",placement:"bottom",trigger:"click",title:e,styles:{root:{maxWidth:"max-content"}},children:(0,s.jsx)(r.Ay,{type:"text",icon:(0,s.jsx)(i.A,{})})})}},935(e,n,t){t.d(n,{A:()=>r});var i=t(6259);function r({children:e,inline:n=!0}){const t=n?"span":"div";return(0,i.jsx)(t,{style:{whiteSpace:"nowrap"},children:e})}}}]);